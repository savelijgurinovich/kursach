<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/layouts.html :: common_head(~{::title}, ~{::link})}">
    <title>Главная</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/carousel.css}"/>
</head>
<body class="d-flex flex-column min-vh-100 bg-color1">
<header th:replace="~{layout/layouts.html :: menu}"></header>
<div class="container p-4 flex-fill">

    <div class="row mx-auto justify-content-center col-10">
        <div id="discountsCarousel" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#discountsCarousel"
                        class="active" aria-current="true" data-bs-slide-to="0"
                        aria-label="Slide 1">
                </button>
                <button type="button" data-bs-target="#discountsCarousel"
                        data-bs-slide-to="1" aria-label="Slide 2">
                </button>
            </div>
            <div class="carousel-inner h-100 common-border p-0">
                <div class="carousel-item active">
                    <img th:src="@{/img/nw_banner_1_13686_A_1669822275.jpg}" class="img-fluid h-100" alt="" src="">
                </div>
                <div class="carousel-item">
                    <img th:src="@{/img/nw_banner_1_13737_A_1671011082.jpg}" class="img-fluid h-100" alt="" src="">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#discountsCarousel"
                    data-bs-slide="prev">
                <i class="fa-solid fa-chevron-left"></i>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#discountsCarousel"
                    data-bs-slide="next">
                <i class="fa-solid fa-chevron-right"></i>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <h2 class="text-center mt-4 ">Популярные товары</h2>
    <div class="row mx-auto mt-4  justify-content-center">
        <div id="popularCarousel" class="carousel multi-frame slide p-2 col-8" data-bs-ride="carousel">
            <div class="carousel-inner h-100 common-border bg-white" role="listbox">
                <div th:each="product, stat: ${popularProducts}"
                     th:class="|h-100 carousel-item ${stat.index == 0 ? 'active' : ''}|">
                    <div class="col-3 bg-white h-100 carousel-item-slide position-relative">
                        <a th:href="@{|/catalog/product/${product.cipher}|}" class="stretched-link">
                        </a>
                        <div class="h-100">
                            <img th:src="@{|/img/${product.files.get(0).fileName}|}"
                                 th:alt="${product.productName}" class="h-100">
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev bg-transparent w-aut" href="#popularCarousel" role="button"
               data-bs-slide="prev">
                <i class="fa-solid fa-chevron-left"></i>
            </a>
            <a class="carousel-control-next bg-transparent w-aut" href="#popularCarousel" role="button"
               data-bs-slide="next">
                <i class="fa-solid fa-chevron-right"></i>
            </a>
        </div>
    </div>

    <h2 class="text-center mt-4 ">Новинки</h2>
    <div class="row mx-auto mt-4  justify-content-center">
        <div id="newCarousel" class="carousel multi-frame slide p-2 col-8" data-bs-ride="carousel">
            <div class="carousel-inner h-100 common-border bg-white" role="listbox">
                <div th:each="product, stat: ${newProducts}"
                     th:class="|h-100 carousel-item ${stat.index == 0 ? 'active' : ''}|">
                    <div class="col-3 bg-white h-100 carousel-item-slide position-relative">
                        <a th:href="@{|/catalog/product/${product.cipher}|}" class="stretched-link">
                        </a>
                        <div class="h-100">
                            <img th:src="@{|/img/${product.files.get(0).fileName}|}"
                                 th:alt="${product.productName}" class="h-100">
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev bg-transparent w-aut" href="#newCarousel" role="button"
               data-bs-slide="prev">
                <i class="fa-solid fa-chevron-left"></i>
            </a>
            <a class="carousel-control-next bg-transparent w-aut" href="#newCarousel" role="button"
               data-bs-slide="next">
                <i class="fa-solid fa-chevron-right"></i>
            </a>
        </div>
    </div>
</div>

<footer th:replace="~{layout/layouts.html :: footer}"></footer>

<script th:src="@{/webjars/bootstrap/5.2.2/dist/js/bootstrap.bundle.js}"></script>
<script th:src="@{/js/carousel-multiframe.js}"></script>
</body>
</html>
