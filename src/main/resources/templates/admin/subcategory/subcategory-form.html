<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/layouts.html :: common_head(~{::title}, ~{})}">
  <title th:text="${action == 'create' ? 'Добавить подкатегорию' : 'Редактировать подкатегорию'}"></title>
</head>
<body class="bg-color1">
<header th:replace="~{layout/layouts.html :: menu}"></header>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-4 bg-white common-border mt-4">
      <form method="post" th:action="@{/admin/subcategories/save}" th:object="${subcategoryDTO}"
            enctype="multipart/form-data">
        <h3 class="text-center"
            th:text="${action == 'create' ? 'Добавить подкатегорию' : 'Редактировать подкатегорию'}"></h3>

        <div class="alert alert-info text-center" th:if="${message}" th:text="${message}"></div>

        <div class="col-12 py-1">
          <label for="inputName" class="form-label">Название</label>
          <input type="text" class="form-control" id="inputName"
                 th:field="*{subcategoryName}">
        </div>
        <div class="col-12 py-1">
          <label for="inputCipher" class="form-label">Шифр</label>
          <input type="text" class="form-control" id="inputCipher"
                 th:field="*{cipher}">
        </div>
        <div class="col-12 py-1">
          <label for="inputFile" class="form-label">Изображение</label>
          <input type="file" name="file" class="form-control" id="inputFile" th:value="${file}">
        </div>
        <div class="col-12">
          <label for="inputCategory" class="form-label">Категория:</label>
          <select id="inputCategory" class="form-select" th:field="*{category}">
            <th:block th:each="choseCategory: ${categoriesList}">
              <option th:value="${choseCategory.id}">
                [[${choseCategory.categoryName}]]
              </option>
            </th:block>
          </select>
        </div>
        <input type="hidden" name="action" th:value="${action}">
        <input type="hidden" name="id" th:value="${id}">
        <div class="col-12 py-3">
          <button type="submit" class="btn btn-success fw-bold">Добавить</button>
          <button type="submit" class="btn btn-danger fw-bold">Отмена</button>
        </div>

      </form>
    </div>
  </div>
</div>
<script th:src="@{/webjars/bootstrap/5.2.2/dist/js/bootstrap.bundle.js}"></script>
</body>
</html>